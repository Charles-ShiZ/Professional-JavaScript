# TypedArray
å®šå‹æ•°ç»„TypedArrayæ˜¯ECMAScriptæ–°å¢çš„ç»“æ„ï¼Œç›®çš„æ˜¯`æå‡å‘åŸç”Ÿåº“ä¼ è¾“æ•°æ®çš„æ•ˆç‡`ã€‚å®é™…ä¸Šï¼ŒJavaScriptå¹¶æ²¡æœ‰`TypedArray`ç±»å‹ã€‚

## ArrayBuffer
åˆ«è¢«åå­—å“åˆ°ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ªç”¨äº`å¼€è¾Ÿå†…å­˜çš„æ„é€ å‡½æ•°`ï¼Œç›¸å½“äº`Cè¯­è¨€çš„malloc`ï¼Œåªæ˜¯ArrayBufferåˆ†é…çš„å†…å­˜ä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¼šå¤„ç†ã€‚
*ç”¨æ³•ï¼š*
```js
const buffer = new ArrayBuffer(16) // åœ¨å†…å­˜ä¸­åˆ’åˆ†16å­—èŠ‚
buffer.byteLength // 16
```

## DataView
ç›´è¯‘è¿‡æ¥å°±æ˜¯ï¼Œ`è§†çª—`ã€‚æƒ³è±¡ä¸€ç§å¯ä»¥æ¨ªå‘æ‹–åŠ¨çš„çª—æˆ·ğŸªŸï¼Œè¿™ä¸ªçª—å£å¯ä»¥æ˜¯ä¸€ä¸ªå­—èŠ‚"å®½"ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸¤ä¸ªå­—èŠ‚"å®½"ã€‚
*ç”¨æ³•ï¼š*
```js
const buffer = new ArrayBuffer(16) // åœ¨å†…å­˜ä¸­åˆ’åˆ†16å­—èŠ‚
const dataView = new DataView(buffer)
dataView.getInt8(0) // (è§†çª—å®½åº¦: 1byte) è¯»å–ç¬¬ä¸€ä¸ª"è§†çª—"
dataView.getInt16(1) // (è§†çª—å®½åº¦: 2bytes) è¯»å–ç¬¬äºŒä¸ª"è§†çª—"
dataView.setInt8(1, 0x8) // (è§†çª—å®½åº¦: 1bytes) å†™å…¥ç¬¬äºŒä¸ª"è§†çª—"
```
*å­—èŠ‚è¡¨ï¼š*
![avatar](images/20210710151133.jpg)

## å®šå‹æ•°ç»„(Int8Arrayã€Floa8Array...)
ç›¸å½“äºé€‰æ‹©äº†ç‰¹å®šæŸä¸€ç§è§†çª—ã€‚
*ç”¨æ³•ï¼š*
```js
const buffer = new ArrayBuffer(16) // 16ä¸ªå­—èŠ‚
const ints = new Int32Array(buffer) // 32/8=4ï¼Œ4å­—èŠ‚è§†çª—
ints.BYTES_PER_ELEMENT // 4
```